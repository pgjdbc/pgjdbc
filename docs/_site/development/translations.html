<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">
<head>
	<title>PostgreSQL JDBC Translations</title>
	<meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
	<meta name="description" content="The official site for the PostgreSQL JDBC Driver" />
	<meta name="copyright" content="The PostgreSQL Global Development Group" />

	<style type="text/css" media="screen" title="Normal Text">@import url("/media/css/base.css");</style>

	<link rel="shortcut icon" href="/media/favicon.ico" />

	<!--
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1345454-1']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
	</script>
	-->
</head>

<body>
	<div id="pgContainerWrap">
		<div id="pgContainer">

			<span class="txtOffScreen"><a href="#pgContent" title="Skip site navigation" accesskey="1">Skip site navigation</a> (1)</span>
			<span class="txtOffScreen"><a href="#pgContentWrap" title="Skip section navigation" accesskey="2">Skip section navigation</a> (2)</span>

			<div id="pgHeaderContainer">

				<div id="pgSearch">

					<!-- Old pgjdbc form -->
					<form action="https://www.google.com/search" method="get">
						<input value="jdbc.postgresql.org" name="sitesearch" type="hidden" />
						<input id="q" name="q" type="text" size="20" maxlength="255" onfocus="if( this.value==this.defaultValue ) this.value='';" value="Google Search" accesskey="s" />
						<!-- <input onFocus="getBlank (this, 'Search the site with google');" size="25" name="q" id="query" type="text" value="Search the site with google">&nbsp; -->
                    				<input name="Search" value="Search" type="submit" />
					</form>

					<!-- New PostgreSQL form
					<form method="get" action="search/">
					<div>
						<h2 class="pgBlockHide"><label for="q">Search</label></h2>
						<input id="q" name="q" type="text" size="20" maxlength="255" onfocus="if( this.value==this.defaultValue ) this.value='';" value="Search" accesskey="s" />
						<input name="a" type="hidden" value="1"/>
						<input id="submit" name="submit" type="submit" value="Search" />
					</div>
					</form>
					-->

				</div> <!-- pgSearch -->
				<br />

				<div id="pgHeader">
					<div id="pgHeaderLogoLeft">
						<img alt="PostgreSQL" height="80" width="390" src="/media/img/layout/hdr_left3.png" usemap="#maplinks" />
						<map name="maplinks">
							<area shape="rect" coords="0,0,231,80" alt="PostgreSQL" href="https://postgresql.org" />
							<area shape="rect" coords="232,0,390,80" alt="PostgreSQL JDBC Driver" href="https://jdbc.postgresql.org" />
						</map>
					</div>
					<div id="pgHeaderLogoRight">
						<a href="https://postgresql.org">
							<img width="210" height="80" alt="The world's most advanced open source database." src="/media/img/layout/hdr_right.png" />
						</a>
					</div>
				</div> <!-- pgHeader -->

				<div id="pgTopNav">
					<div id="pgTopNavLeft">
						<img width="7" style="height: 100%;" alt="" src="/media/img/layout/nav_lft.png" />
					</div>
					<div id="pgTopNavRight">
						<img width="7" style="height: 100%;" alt="" src="/media/img/layout/nav_rgt.png" />
					</div>
					<ul id="pgTopNavList">
						<li><a href="/index.html" title="Home">Home</a></li>
						<li><a href="/about/about.html" title="About">About</a></li>
						<li><a href="/download.html" title="Download">Download</a></li>
						<li><a href="/documentation/documentation.html" title="Documentation">Documentation</a></li>
						<li><a href="/community/community.html" title="Community">Community</a></li>
						<li><a href="/development/development.html" title="Development">Development</a></li>
					</ul>
				</div> <!-- pgTopNav -->
			</div> <!-- pgHeaderContainer -->

			<div id="pgContent">
				<div id="pgSideWrap">
					<div id="pgSideNav">
						<ul>
							<li><a href="development.html">Development</a></li>
							<li><a href="git.html">GIT</a></li>
							<li><a href="translations.html">Translations</a></li>
							<li><a href="website.html">Website</a></li>
							<li><a href="todo.html">Todo</a></li>
						</ul>
					</div> <!-- pgSideNam -->
				</div> <!-- pgSideWrap -->


				<div id="pgContentWrap">
					<h1>Translations</h1>
					<hr />
					<div>
						<ul>
							<li><a href="#overview">Overview</a></li>
							<li><a href="#developers">Developers</a></li>
							<li><a href="#translators">Translators</a></li>
							<li><a href="#maintainers">Maintainers</a></li>
						</ul>
					</div>
					<hr />

					<a name="overview"></a>
					<h2 class="underlined_10">Overview</h2>
					<div>
						<p>
							Translations of driver specific error messages are available in a
							number of languages.  The following information is about how to
							update an existing translation or to provide a translation to a new
							language.
						</p>
						<p>
							The translations are done using the
							<a href="http://www.gnu.org/software/gettext/gettext.html" target="_blank">GNU gettext</a>
							tools.  These are not required to build or use the driver, only
							translators and maintainers need them.
						</p>
					</div>
					<hr />

					<a name="developers"></a>
					<h2 class="underlined_10">Developers</h2>
					<div>
						<p>
							When writing code for the driver you need to specially mark strings
							for translation so they are picked up by the tools.  In general any
							user visible message should be made available for translation.
							Strings are marked using the <a href="privateapi/org/postgresql/util/GT.html">GT.tr</a>
							method.  The name means "gettext translate", but
							a shorter name was wanted because this shows up in a lot of places.
						</p>
						<p>
							To provide context sensitive information the standard Java
							<a href="https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html" target="_blank">MessageFormat</a>
							syntax is used in the error messages.  Consider, for example,
							the error message for calling ResultSet.getInt() with an invalid
							column number, we want to helpfully report the column asked for and
							the number of columns in the ResultSet.
						</p>
						<pre style="font-family: serif;">
if (column &lt; 1 || column &gt; fields.length) {
	String err = GT.tr(
		"The column index requested: {0} is out of range.",
		new Integer(column)
		);
	throw new PSQLException(err, PSQLState.INVALID_PARAMETER_VALID);
}
						</pre>
					</div>
					<hr />

					<a name="translators"></a>
					<h2 class="underlined_10">Translators</h2>
					<div>
						<p>
							Check the current <a href="status.html">translation status</a>
							page to see if an existing translation exists for your language,
							so you can update that instead of starting from
							scratch.  To start a new translation you can download the template
							file and work on that instead.
						</p>
						<p>
							Editing the .po file is a pretty straightforward process and a number
							of tools exist to aid you in the process:
						</p>
						<ul>
							<li>GNU Emacs and XEmacs have PO editing modes.</li>
							<li>
								<a href="http://freshmeat.sourceforge.net/projects/kbabel" target="_blank">KBabel</a>
								is a KDE-based editing tool.
							</li>
							<li>
								<a href="https://poedit.net/" target="_blank">poEdit</a>
								is another tool which can run on Windows.
							</li>
						</ul>
						<p>
							Once you feel the translation is accurate and complete (or you get
							tired), verify that the file by running <span class="codefrag">msgfmt</span>.
						</p>
						<pre style="font-family: serif;">
msgfmt -c -v -o /dev/null pofile
						</pre>
						<p>
							If everything checks out send the po file on over to the
							<a href="mailto:pgsql-jdbc@postgresql.org">pgsql-jdbc@postgresql.org</a>
							mailing list.  This list does have a size limit of 30k, so you will
							need to compress the po file before sending it.
						</p>
					</div>
					<hr />

					<a name="maintainers"></a>
					<h2 class="underlined_10">Maintainers</h2>
					<div>
						<p>
							To avoid requiring the gettext tools to compile the driver the
							decision has been made to directly check in the compiled message
							catalogs to the git repository.  When you get a new or updated
							translation, first ensure that it is valid by running the
							<span style="font-family: Courier New,Courier,monospace;">msgfmt</span> command mentioned in the translators section.
							If this looks correct drop it into the
							<span style="font-family: Courier New,Courier,monospace;">src/org/postgresql/translation</span>
							directory and run the <span class="codefrag">update-translations.sh</span> script
							in the top level directory.  This will produce the compiled class
							file that contains the translated messages.  Then simply check in
							both the .po and .class files. Be sure to only commit changes to the
							translations you've modified because the <span style="font-family: Courier New,Courier,monospace;">update-translations.sh</span>
							script modifies all the translations.
						</p>
					</div>
				</div> <!-- pgContentWrap -->


				<br class="pgClearBoth" />
			</div> <!-- pgContent -->
			<hr />

			<div id="pgFooter">
				<a class="navFooter" href="https://www.postgresql.org/about/privacypolicy">Privacy Policy</a> |
				<a class="navFooter" href="https://www.postgresql.org/about/">About PostgreSQL</a><br/>
				Copyright &copy; 1996-2022 The PostgreSQL Global Development Group
			</div> <!-- pgFooter -->
		</div> <!-- pgContainer -->
	</div> <!-- pgContainerWrap -->
</body>
</html>
