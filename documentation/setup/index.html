<!doctype html><html><head><meta charset=utf-8><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-100.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-100italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-200.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-200italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-300.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-300italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-400.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-400italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-500.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-500italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-600.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-600italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-700.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-700italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-800.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-800italic.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-900.woff as=font type=font/woff crossorigin><link rel=preload href=https://pgjdbc.github.io/pgjdbc/fonts/barlow-latin-900italic.woff as=font type=font/woff crossorigin><title>Setting up the JDBC Driver | pgJDBC</title><meta name=viewport content="width=device-width,minimum-scale=1"><link rel=stylesheet href=https://pgjdbc.github.io/pgjdbc/sass/main.3e2ef319edd90653f8f3c003aab570b6599427631bb60f5e8a9682732adca2ca.css integrity="sha256-Pi7zGe3ZBlP488ADqrVwtlmUJ2Mbtg9eipaCcyrcoso="><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500&display=swap" rel=stylesheet><link rel=icon href=/pgjdbc/favicon.ico><script src=https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin=anonymous referrerpolicy=no-referrer></script><script defer language=javascript type=module src=/pgjdbc/js/index.js></script></head><body><nav class=navbar role=navigation><a href=/pgjdbc id=host><img class=logo src=/pgjdbc/icons/postgreslogo.svg alt=logo></a><div class=navbar__item><a href=/pgjdbc/download/ class=navbar__item__link>Download</a>
<a href=/pgjdbc/documentation/ class=navbar__item__link>Documentation</a>
<a href=/pgjdbc/community/ class=navbar__item__link>Community</a>
<a href=/pgjdbc/development/ class=navbar__item__link>Development</a></div><form id=search class=searchBox role=search><input class=searchInput type=search placeholder=Search id=search-input autocomplete=off>
<button class=searchButton for=search-input><svg fill="#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="24" height="24"><path d="M24 2.8886719C12.365714 2.8886719 2.8886719 12.365723 2.8886719 24S12.365714 45.111328 24 45.111328C29.036552 45.111328 33.664698 43.331333 37.298828 40.373047L52.130859 58.953125S55.379484 59.435984 57.396484 57.333984C59.427484 55.215984 58.951172 52.134766 58.951172 52.134766L40.373047 37.298828C43.331332 33.664697 45.111328 29.036548 45.111328 24 45.111328 12.365723 35.634286 2.8886719 24 2.8886719zM24 7.1113281C33.352549 7.1113281 40.888672 14.647457 40.888672 24S33.352549 40.888672 24 40.888672C14.647451 40.888672 7.1113281 33.352543 7.1113281 24 7.1113281 14.647457 14.647451 7.1113281 24 7.1113281z"/></svg></button></form><template id=search-result hidden><article class="search-list container flow"><h2><a class=summary-title-link></a></h2><summary class=summary></summary><div class=read-more-container><a class=read-more-link>Read More »</a></div></article></template></nav><main role=main class=main-inner><div class=doc><nav role=navigation class=sidebar><ul role=list class="flow sidebar__wrapper"><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/setup/ class=sidebar__links__link--active>Getting Started</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/use/ class=sidebar__links__link>Initializing the Driver</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/ssl/ class=sidebar__links__link>Using SSL</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/query/ class=sidebar__links__link>Issuing a Query and Processing the Result</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/callproc/ class=sidebar__links__link>Calling Stored Functions and Procedures</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/binary-data/ class=sidebar__links__link>Storing Binary Data</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/escapes/ class=sidebar__links__link>JDBC escapes</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/server-prepare/ class=sidebar__links__link>PostgreSQL™ Extensions to the JDBC API</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/thread/ class=sidebar__links__link>Using the Driver in a Multithreaded or a Servlet Environment</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/datasource/ class=sidebar__links__link>Connection Pools and Data Sources</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/logging/ class=sidebar__links__link>Logging using java.util.logging</a></li><li role=listitem class=sidebar__links><a href=/pgjdbc/documentation/reading/ class=sidebar__links__link>Further Reading</a></li></ul></nav><article class=article><h1>Setting up the JDBC Driver</h1><p>This section describes the steps you need to take before you can write or run programs that use the JDBC interface.</p><h2 id=getting-the-driver class=self-link>Getting the Driver <a class=header-link href=#getting-the-driver><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill:#0093af"><path d="M8.465 11.293c1.133-1.133 3.109-1.133 4.242.0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008.0 000 7.071 4.983 4.983.0 003.535 1.462A4.982 4.982.0 0012 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007.0 01-4.243.0 3.005 3.005.0 010-4.243l2.122-2.121z"/><path d="m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007.0 014.243.0 3.005 3.005.0 010 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242.0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008.0 000-7.071 5.006 5.006.0 00-7.071.0z"/></svg></a></h2><p>Precompiled versions of the driver can be downloaded from the <a href=https://jdbc.postgresql.org>PostgreSQL™ JDBC web site</a>.</p><p>Alternatively you can build the driver from source, but you should only need to do this if you are making changes to the source code. To build the JDBC driver, you need gradle and a JDK (currently at least jdk1.8).</p><p>If you have several Java compilers installed, maven will use the first one on the path. To use a different one set <code>JAVA_HOME</code> to the Java version you wish to use For example, to use a different JDK than the default, this may work:</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java> <span class=n>JAVA_HOME</span> <span class=o>=</span> <span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=n>jdk1</span><span class=o>.</span><span class=na>8</span><span class=o>.</span><span class=na>0_45</span>
</code></pre></div><p>To compile the driver simply run <strong><code>gradlew assemble</code></strong> or <strong><code>gradlew build</code></strong> if you want to run the tests in the top level directory.</p><blockquote><p><strong>NOTE</strong></p><p>If you want to skip test execution, add the option <code>-DskipTests</code>. The compiled driver will be placed in <code>pgjdbc/build/libs postgresql-MM.nn.pp.jar</code></p></blockquote><p>Where MM is the major version, nn is the minor version and pp is the patch version. Versions for JDBC3 and lower can be found <a href=https://repo1.maven.org/maven2/org/postgresql/postgresql/9.2-1003-jdbc3/>here</a></p><p>This is a very brief outline of how to build the driver. Much more detailed information can be found on the <a href=https://github.com/pgjdbc/pgjdbc/blob/master/CONTRIBUTING.md>github repo</a></p><p>Even though the JDBC driver should be built with Gradle, for situations, where use of Gradle is not possible, e.g., when building pgJDBC for distributions, the pgJDBC Gradle build provides a convenience source release artifact <code>*-src.tar.gz</code> - a Maven based project. The Maven based project contains a version of the JDBC driver with complete functionality, which can be used in production and is still validly buildable within the Maven build environment. The Maven-based project is created with <strong><code>gradlew -d :postgresql:sourceDistribution -Prelease</code></strong>. The produced <code>*-src.tar.gz</code> can be then found in <code>pgjdbc/build/distributions/</code> directory. JDBC driver can be built from the Maven-based project with <strong>mvn package</strong> or, when the tests are to be skipped, with <strong><code>mvn -DskipTests package</code></strong>. Prefactored <code>*-src.tar.gz</code> s are released in the <a href=https://repo1.maven.org/maven2/org/postgresql/postgresql/>Maven central repository</a>.</p><h2 id=setting-up-the-class-path class=self-link>Setting up the Class Path <a class=header-link href=#setting-up-the-class-path><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill:#0093af"><path d="M8.465 11.293c1.133-1.133 3.109-1.133 4.242.0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008.0 000 7.071 4.983 4.983.0 003.535 1.462A4.982 4.982.0 0012 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007.0 01-4.243.0 3.005 3.005.0 010-4.243l2.122-2.121z"/><path d="m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007.0 014.243.0 3.005 3.005.0 010 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242.0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008.0 000-7.071 5.006 5.006.0 00-7.071.0z"/></svg></a></h2><p>To use the driver, the JAR archive named <code>postgresql-MM.nn.pp.jar</code> needs to be included in the class path, either by putting it in the <code>CLASSPATH</code> environment variable, or by using flags on the <strong>java</strong> command line.</p><p>For instance, assume we have an application that uses the JDBC driver to access a database, and that application is installed as <code>/usr/local/lib/myapp.jar</code> . The PostgreSQL™ JDBC driver installed as <code>/usr/local/pgsql/share/java/postgresql-MM.nn.pp.jar</code> .
To run the application, we would use:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>export</span> <span class=nv>CLASSPATH</span><span class=o>=</span>/usr/local/lib/myapp.jar:/usr/local/pgsql/share/java/postgresql-42.2.15.jar:. java MyApp
</code></pre></div><p>Current Java applications will likely use maven, gradle or some other package manager. <a href=https://mvnrepository.com/artifact/org.postgresql/postgresql>Use this to search</a> for the latest jars and how to include them in your project</p><p>Loading the driver from within the application is covered in <a href=/documentation/use/>Initializing the Driver</a>.</p><h2 id=preparing-the-database-server-for-jdbc class=self-link>Preparing the Database Server for JDBC <a class=header-link href=#preparing-the-database-server-for-jdbc><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill:#0093af"><path d="M8.465 11.293c1.133-1.133 3.109-1.133 4.242.0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008.0 000 7.071 4.983 4.983.0 003.535 1.462A4.982 4.982.0 0012 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007.0 01-4.243.0 3.005 3.005.0 010-4.243l2.122-2.121z"/><path d="m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007.0 014.243.0 3.005 3.005.0 010 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242.0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008.0 000-7.071 5.006 5.006.0 00-7.071.0z"/></svg></a></h2><p>Out of the box, Java does not support unix sockets so the PostgreSQL server must be configured to allow TCP/IP connections. Starting with server version 8.0 TCP/IP connections are allowed from <code>localhost</code> . To allow connections to other interfaces
than the loopback interface, you must modify the <code>postgresql.conf</code> file&rsquo;s <code>listen_addresses</code> setting.</p><p>Once you have made sure the server is correctly listening for TCP/IP connections the next step is to verify that users are allowed to connect to the server. Client authentication is setup in <code>pg_hba.conf</code> . Refer to the main PostgreSQL™ <a href=https://www.postgresql.org/docs/current/auth-pg-hba-conf.html>documentation</a> for details .</p><h2 id=creating-a-database class=self-link>Creating a Database <a class=header-link href=#creating-a-database><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill:#0093af"><path d="M8.465 11.293c1.133-1.133 3.109-1.133 4.242.0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008.0 000 7.071 4.983 4.983.0 003.535 1.462A4.982 4.982.0 0012 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007.0 01-4.243.0 3.005 3.005.0 010-4.243l2.122-2.121z"/><path d="m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007.0 014.243.0 3.005 3.005.0 010 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242.0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008.0 000-7.071 5.006 5.006.0 00-7.071.0z"/></svg></a></h2><p>When creating a database to be accessed via JDBC it is important to select an appropriate encoding for your data. Many other client interfaces do not care what data you send back and forth, and will allow you to do inappropriate things, but Java makes sure that your data is correctly encoded. Do not use a database that uses the <code>SQL_ASCII</code> encoding. This is not a real encoding and you will have problems the moment you store data in it that does not fit in the seven bit ASCII character set. If you do not know what your encoding will be or are otherwise unsure about what you will be storing the <code>UNICODE</code> encoding is a reasonable default to use.</p><div class=pagination><div class=pagination__left></div><div class=pagination__right><a class=pagination__right__link title="Next page" href=https://pgjdbc.github.io/pgjdbc/documentation/use/>Initializing the Driver</a></div></div></article><aside class=toc><div class=toc__head>Setting up the JDBC Driver</div><nav id=TableOfContents><ul><li><a href=#getting-the-driver>Getting the Driver</a></li><li><a href=#setting-up-the-class-path>Setting up the Class Path</a></li><li><a href=#preparing-the-database-server-for-jdbc>Preparing the Database Server for JDBC</a></li><li><a href=#creating-a-database>Creating a Database</a></li></ul></nav></aside></div></main><footer class=footer role=contentinfo><div class=footer__item><ul role=list class=list><li class=list__head>pgJDBC</li><br><li><a href=https://jdbc.postgresql.org/documentation/publicapi/index.html class=list__link>Public API</a></li><li><a href=https://www.postgresql.org/ class=list__link>About PostgreSQL</a></li></ul><ul role=list class=list><li class=list__head>Community</li><br><li><a href=https://github.com/pgjdbc/pgjdbc class=list__link>Github</a></li><li><a href=https://postgres-slack.herokuapp.com/ class=list__link>Slack</a></li><li><a href=https://twitter.com/PostgreSQL class=list__link>Twitter</a></li><li><a href=https://www.postgresql.org/list/pgsql-jdbc/ class=list__link>Mailing List</a></li></ul><ul role=list class=list><li class=list__head>More</li><br><li><a href=/pgjdbc/faq/ class=list__link>FAQ</a></li><li><a href=https://www.postgresql.org/about/policies/privacy/ class=list__link>Privacy</a></li><li><a href=/pgjdbc/license/ class=list__link>License</a></li></ul></div><div class=copyrights>Copyright © 1996-2022 The PostgreSQL Global Development Group</div></footer></body></html>